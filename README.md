# 経理ツール - 領収書管理アプリ

領収書の画像を撮影・アップロードするだけで、自動で経理情報を記録できるWebアプリケーションです。

## 主な機能

- 📸 **画像アップロード**: スマホで撮影した領収書やPCからの画像アップロードに対応
- 🤖 **自動読み取り（完全無料・APIキー不要）**: OCR技術で領収書から日付、金額、用途を自動抽出
- 💾 **データ管理**: ブラウザに自動保存、データ一覧で確認可能
- 🔍 **フィルター機能**: 年・月・種別で絞り込み、キーワード検索も可能
- 📊 **Excelエクスポート**: 記録したデータをExcelファイルとして出力
- 💿 **バックアップ・復元**: JSONファイルでデータをバックアップ、長期保存に対応
- 📱 **レスポンシブ対応**: スマホ・PC両方で快適に利用可能
- 💰 **完全無料**: APIキー不要、全機能が完全無料で使えます

## 使い方

### 1. 基本的な使い方

1. **index.html** をブラウザで開く
2. 「クリックまたはドラッグ＆ドロップで画像を追加」エリアをクリック
3. 領収書の画像を選択（スマホの場合はカメラで撮影も可能）
4. 自動で情報が抽出されるので、確認・修正
5. 「保存」ボタンで記録完了

### 2. 自動読み取り機能（設定不要）

領収書の画像をアップロードすると、自動でOCR（文字認識）が実行され、以下の情報を抽出します：

- 日付
- 金額
- 用途（店名や商品名）
- 支払い方法

**APIキーや設定は一切不要**です。すぐに使えます！

読み取れなかった項目は手動で入力してください。

### 3. フィルター機能で過去のデータを探す

記録一覧の上にあるフィルター機能で、過去のデータを簡単に探せます：

- **年で絞り込み**: 「2022年」「2023年」など、年ごとに表示
- **月で絞り込み**: 年と組み合わせて「2023年4月」のように指定
- **種別で絞り込み**: 「出金」「入金」のみ表示
- **キーワード検索**: 用途やメモから検索（例：「交通費」「Amazon」）

フィルター適用時は、該当件数と合計金額が表示されます。

### 4. データのバックアップ

データを長期保存するために、定期的にバックアップを取りましょう：

1. 「バックアップ」ボタンをクリック
2. JSONファイルがダウンロードされます
3. このファイルを安全な場所に保管（USBメモリ、クラウドストレージなど）

**重要**: ブラウザのキャッシュを消すとデータが消えるので、定期的なバックアップをおすすめします！

### 5. データの復元

バックアップしたデータを読み込むには：

1. 「復元」ボタンをクリック
2. バックアップしたJSONファイルを選択
3. 既存データに追加されます（上書きではありません）

### 6. データのエクスポート

1. 「Excelエクスポート」ボタンをクリック
2. 自動でExcelファイルがダウンロードされます
3. ファイル名: `経理データ_YYYY-MM-DD.xlsx`

エクスポートされる項目：
- 日付
- 金額
- 用途
- 支払い方法
- 種別
- メモ
- 登録日時

## ファイル構成

```
keiri-tool/
├── index.html      # メインページ
├── style.css       # スタイルシート
├── app.js          # アプリケーションロジック
└── README.md       # このファイル
```

## 技術スタック

- **HTML5/CSS3**: UI構築
- **JavaScript**: アプリケーションロジック
- **Tesseract.js**: OCR（文字認識）で画像からテキスト抽出（完全無料・APIキー不要）
- **SheetJS (xlsx.js)**: Excelエクスポート
- **LocalStorage**: データ永続化

## データ保存について

データはブラウザのLocalStorageに保存されます。

- データはブラウザ内にのみ保存（サーバーには送信されません）
- ブラウザのキャッシュをクリアするとデータが消えます
- **長期保存には「バックアップ」機能を使いましょう**
  - 月に1回程度のバックアップを推奨
  - バックアップファイル（JSON）は何年でも保存可能
  - 必要な時に「復元」機能で読み込めます

**3年前のデータも簡単に参照**：
1. バックアップファイルを「復元」で読み込む
2. 年・月フィルターで絞り込む
3. 「あの時の出費」がすぐ見つかります

## トラブルシューティング

### 画像が読み取れない

- 画像が鮮明か確認してください
- 領収書全体が写っているか確認してください
- 手動入力モードで入力してください

### 自動読み取りが正確でない

- OCRの精度は画像の品質に依存します
- 以下を確認してください：
  - 画像が鮮明か
  - 領収書全体が写っているか
  - 明るい場所で撮影されているか
- 読み取れなかった項目は手動で修正してください

### データが消えた

- ブラウザのキャッシュをクリアした可能性があります
- 同じブラウザ・同じPCで開いているか確認してください
- 定期的にExcelエクスポートでバックアップを取ってください

## 今後の拡張案

- クラウド同期機能
- カテゴリ分類
- 月次・年次レポート
- PDF出力
- 複数画像の一括アップロード
- 検索・フィルター機能

## ライセンス

このプロジェクトは個人利用・商用利用ともに自由に使用できます。

## 注意事項

- OCRの精度は100%ではありません。読み取り結果は必ず確認してください
- 機密情報を含む領収書は適切に管理してください
- 本ツールは記録の補助を目的としており、正式な経理処理は専門家に相談してください
- 初回の画像読み取り時、OCRライブラリのダウンロードに数秒かかる場合があります
